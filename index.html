<!DOCTYPE html>
<html>

    <head>
        <title>Mandelbrot editor by CLandel89</title>
        <meta charset="UTF-8" />
    </head>

    <body>

        <style>
            /* https://stackoverflow.com/a/3673509 */
            table td {
                vertical-align: top;
            }
            body {
                font-family: sans-serif;
                font-size: 90%;
            }
        </style>

        <table>
            <tr>
                <td id="clandel89-mandelbrot-tree"></td>
                <td id="clandel89-mandelbrot-canvas"></td>
                <td id="clandel89-mandelbrot-panel"></td>
            </tr>
        </table>

        <script src="clandel89-mandelbrot/mandelbrot.js"></script>
        <script>
            "use strict";

            //put the code inside a scope so the global objects don't become polluted
            {

            let $MB = $CLandel89.Mandelbrot;

            // Since mandelbrot.js loads additional JS files,
            // we need to instruct the browser to kick off the init methods AFTER loading.
            // After initialisation, we can put the UI together.
            // https://stackoverflow.com/a/43076418
            window.addEventListener(
                'load',
                () => {
                    $MB.init();
                    $MB.editor.init();
                    document.getElementById("clandel89-mandelbrot-tree").appendChild(
                        $MB.editor.export
                    );
                    document.getElementById("clandel89-mandelbrot-tree").appendChild(
                        document.createElement('br')
                    );
                    document.getElementById("clandel89-mandelbrot-tree").appendChild(
                        $MB.editor.tree
                    );
                    document.getElementById("clandel89-mandelbrot-canvas").appendChild(
                        $MB.canvas
                    );
                    document.getElementById("clandel89-mandelbrot-panel").appendChild(
                        $MB.editor.panel
                    );
                },
            );

            }
        </script>

    </body>

</html>
